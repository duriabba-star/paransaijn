<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Art Academy - 프롬프트 마스터하기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Pretendard', 'Noto Sans KR', 'sans-serif'],
            },
          }
        }
      }
    </script>
    <style>
      body {
        font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
        background-color: #f8fafc;
        font-weight: 500;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      ::-webkit-scrollbar { width: 8px; height: 8px; }
      ::-webkit-scrollbar-track { background: #f1f5f9; }
      ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "@google/genai": "https://esm.sh/@google/genai@1.3.0",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="module">
        import React, { useState } from 'react';
        import ReactDOM from 'react-dom/client';
        import * as GoogleGenAI from "@google/genai";
        import { Sparkles, Send, Copy, RefreshCw } from 'lucide-react';

        // ⚠️ 사용자의 Gemini API Key를 여기에 입력하세요.
        const API_KEY = "YOUR_GEMINI_API_KEY";

        function App() {
            const [input, setInput] = useState("");
            const [result, setResult] = useState("");
            const [loading, setLoading] = useState(false);

            const generatePrompt = async () => {
                if (!input.trim()) return;
                setLoading(true);
                try {
                    const genAI = new GoogleGenAI.GoogleGenerativeAI(API_KEY);
                    const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
                    const prompt = `Create a highly detailed Midjourney art prompt for: "${input}". Output only the English prompt starting with "/imagine prompt:".`;
                    
                    const res = await model.generateContent(prompt);
                    setResult(res.response.text());
                } catch (error) {
                    setResult("오류가 발생했습니다. API 키를 확인해주세요.");
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-6">
                    <div className="max-w-xl w-full bg-white rounded-[2.5rem] shadow-2xl p-10 border border-slate-100">
                        <header className="mb-10">
                            <div className="flex items-center gap-3 mb-2">
                                <div className="p-2 bg-blue-600 rounded-xl">
                                    <Sparkles className="text-white" size={24} />
                                </div>
                                <h1 className="text-2xl font-black text-slate-900 tracking-tight">AI Art Academy</h1>
                            </div>
                            <p className="text-slate-500 font-medium">상상하는 이미지를 프롬프트로 바꿔보세요.</p>
                        </header>

                        <div className="space-y-6">
                            <div className="relative">
                                <input 
                                    className="w-full p-5 bg-slate-50 border-2 border-slate-100 rounded-2xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-slate-700 placeholder:text-slate-400"
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    onKeyDown={(e) => e.key === 'Enter' && generatePrompt()}
                                    placeholder="예: 숲속의 고양이, 사이버펑크 도시..."
                                />
                                <button 
                                    onClick={generatePrompt}
                                    disabled={loading || !input.trim()}
                                    className="absolute right-3 top-3 p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-slate-300 transition-colors shadow-lg shadow-blue-200"
                                >
                                    {loading ? <RefreshCw className="animate-spin" size={20} /> : <Send size={20} />}
                                </button>
                            </div>

                            {result && (
                                <div className="mt-8 animate-in fade-in slide-in-from-bottom-4 duration-500">
                                    <div className="flex items-center justify-between mb-3 px-2">
                                        <span className="text-sm font-bold text-slate-400 uppercase tracking-widest">Generated Prompt</span>
                                        <button 
                                            onClick={() => navigator.clipboard.writeText(result)}
                                            className="text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm font-bold"
                                        >
                                            <Copy size={16} /> Copy
                                        </button>
                                    </div>
                                    <div className="p-6 bg-slate-900 rounded-[2rem] text-slate-200 leading-relaxed font-mono text-sm shadow-inner border border-slate-800">
                                        {result}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>